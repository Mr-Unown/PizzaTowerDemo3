var _cam_x = camera_get_view_x(view_camera[0])// + camera_get_view_width(view_camera[0])/2
var _cam_y = camera_get_view_y(view_camera[0])// + camera_get_view_height(view_camera[0])/2
var _centeredcam_x = camera_get_view_x(view_camera[0]) + camera_get_view_width(view_camera[0])/2
var _centeredcam_y = camera_get_view_y(view_camera[0]) + camera_get_view_height(view_camera[0])/2
var lay_id = layer_get_id("Backgrounds_1")
var back_id = layer_background_get_id(lay_id)
var lay_id2 = layer_get_id("Backgrounds_2")
var back_id2 = layer_background_get_id(lay_id2)
var lay_id3 = layer_get_id("Backgrounds_3")
var back_id3 = layer_background_get_id(lay_id3)
var lay_id4 = layer_get_id("Backgrounds_sky")
var back_id4 = layer_background_get_id(lay_id4)
var lay_id5 = layer_get_id("Backgrounds_sky2")
var back_id5 = layer_background_get_id(lay_id5)
var lay_id6 = layer_get_id("Backgrounds_far1")
var back_id6 = layer_background_get_id(lay_id6)
var lay_id7 = layer_get_id("Backgrounds_Ground1")
var back_id7 = layer_background_get_id(lay_id7)
var lay_id8 = layer_get_id("Backgrounds_Ground2")
var back_id8 = layer_background_get_id(lay_id8)
var lay_id9 = layer_get_id("Backgrounds_scroll")
var back_id9 = layer_background_get_id(lay_id9)
var lay_id10 = layer_get_id("Backgrounds_far")
var back_id10 = layer_background_get_id(lay_id10)
var lay_id11 = layer_get_id("Backgrounds_4")
var back_id11 = layer_background_get_id(lay_id11)
var lay_id12 = layer_get_id("Backgrounds_long")
var back_id12 = layer_background_get_id(lay_id12)
var lay_id13 = layer_get_id("Backgrounds_foreground")
var back_id13 = layer_background_get_id(lay_id13)

if (room != hub_room1 && room != hub_room3  && room != hub_room2 && room != cowboytask && obj_pause.pause == 0)
    global.scrolloffset += 1
//Disgusting
var _speedmodifier = 4
if (global.freezeframe = false)
{
	_speedmodifier = 1
}
    x_shift_1 += (layer_get_hspeed("Backgrounds_sky") /_speedmodifier)
    y_shift_1 += (layer_get_vspeed("Backgrounds_sky") /_speedmodifier)
    x_shift_2 += (layer_get_hspeed("Backgrounds_sky2") /_speedmodifier)
    y_shift_2 += (layer_get_vspeed("Backgrounds_sky2") /_speedmodifier)
    x_shift_3 += (layer_get_hspeed("Backgrounds_scroll") /_speedmodifier)
    y_shift_3 += (layer_get_vspeed("Backgrounds_scroll") /_speedmodifier)
    layer_background_speed(back_id, (back1 /_speedmodifier))
    layer_background_speed(back_id2, (back2 /_speedmodifier))
    layer_background_speed(back_id3, (back3 /_speedmodifier))
    layer_background_speed(back_id4, (back4 /_speedmodifier))
    layer_background_speed(back_id5, (back5 /_speedmodifier))
    layer_background_speed(back_id6, (back6 /_speedmodifier))
    layer_background_speed(back_id7, (back7 /_speedmodifier))
    layer_background_speed(back_id8, (back8 /_speedmodifier))
    layer_background_speed(back_id9, (back9 /_speedmodifier))
    layer_background_speed(back_id10, (back10 /_speedmodifier))
	layer_background_speed(back_id11, (back11 /_speedmodifier))
	layer_background_speed(back_id12, (back12 /_speedmodifier))
var foregroundoffsety = (room_height - sprite_get_height(layer_background_get_sprite(back_id13)))
layer_x("Backgrounds_foreground", (_centeredcam_x * 0.95))
layer_y("Backgrounds_foreground",clamp((_cam_y * 0.95) ,foregroundoffsety,foregroundoffsety + 64))
layer_x("Backgrounds_scroll", (((_centeredcam_x * 0.25) + x_shift_3) + (scrolloffset * layer_get_hspeed("Backgrounds_scroll"))))
layer_y("Backgrounds_scroll", (((_centeredcam_y * 0.25) + y_shift_3) + (scrolloffset * layer_get_vspeed("Backgrounds_scroll"))))
layer_x("Backgrounds_1", (_centeredcam_x * 0.25))
layer_y("Backgrounds_1", (_centeredcam_y * 0.25))
layer_x("Backgrounds_2", (_centeredcam_x * 0.15))
layer_y("Backgrounds_2", (_centeredcam_y * 0.15))
layer_x("Backgrounds_long", (_centeredcam_x * 0.15))
layer_y("Backgrounds_long",clamp(((_centeredcam_y * 0.15) + longy),longy - 192,longy + 32))
layer_x("Backgrounds_3", (_centeredcam_x * 0.05))
layer_y("Backgrounds_3", (_centeredcam_y * 0.05))
layer_x("Backgrounds_4", (_centeredcam_x * 0.0005))
layer_y("Backgrounds_4", (_centeredcam_y * 0.0005))
layer_x("Backgrounds_Ground1", (_centeredcam_x * 0.15))
layer_y("Backgrounds_Ground1", ((_cam_y * 0.15) + groundy))
layer_x("Backgrounds_Ground2", (_centeredcam_x * 0.25))
layer_y("Backgrounds_Ground2", ((_cam_y * 0.25) + ground2y))
layer_x("Backgrounds_sky", (((_centeredcam_x * 0.15) + x_shift_1) + (scrolloffset * layer_get_hspeed("Backgrounds_sky"))))
layer_y("Backgrounds_sky", (((_centeredcam_y * 0.15) + y_shift_1) + (scrolloffset * layer_get_vspeed("Backgrounds_sky"))))
layer_x("Backgrounds_sky2", (((_centeredcam_x * 0.05) + x_shift_2) + (scrolloffset * layer_get_hspeed("Backgrounds_sky2"))))
layer_y("Backgrounds_sky2", (((_centeredcam_y * 0.05) + y_shift_2) + (scrolloffset * layer_get_vspeed("Backgrounds_sky2"))))
layer_x("Backgrounds_far1",(_cam_x - clamp(_cam_x * 0.25 * (960 / room_width), 0, (sprite_get_width(layer_background_get_sprite(back_id6)) - 960   ) )))
layer_y("Backgrounds_far1",(_cam_y - clamp(_cam_y * 0.25 * (540 / room_height), 0, (sprite_get_height(layer_background_get_sprite(back_id6)) - 540 ) )))
layer_x("Backgrounds_far", (_cam_x - clamp(_cam_x * 0.3 * (960 / room_width), 0, (sprite_get_width(layer_background_get_sprite(back_id10))  - 960) )))
layer_y("Backgrounds_far", (_cam_y - clamp(_cam_y * 0.3 * (540 / room_height), 0, (sprite_get_height(layer_background_get_sprite(back_id10)) - 540 ) )))